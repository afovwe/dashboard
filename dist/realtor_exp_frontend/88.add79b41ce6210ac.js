"use strict";(self.webpackChunkrealtor_exp_frontend=self.webpackChunkrealtor_exp_frontend||[]).push([[88],{88:(Z,d,i)=>{i.r(d),i.d(d,{NetworkModule:()=>S});var c=i(4755),l=i(2480),s=i(9401),n=i(2223),p=i(3144),m=i(2340),u=i(6505);new p.WM({"Content-Type":"application/json"});let g=(()=>{class e{constructor(t,o){this.http=t,this.jwtAuthService=o,this.baseUrl=m.N.apiUrl}getConsultantsDownlinesBySponsorId(t){return this.http.get(`${this.baseUrl}/downline/${t}`,{headers:this.getHeadersWithAuthorization()})}getHeadersWithAuthorization(){const t=this.jwtAuthService.getToken();return new p.WM(t?{"Content-Type":"application/json",Authorization:`Bearer ${t}`}:{"Content-Type":"application/json"})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(p.eN),n.LFG(u.t))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i(9205);function f(e,r){if(1&e&&(n.ynx(0),n._UZ(1,"app-network-marketing-tree",4),n.BQk()),2&e){const t=r.$implicit;n.xp6(1),n.Q6J("node",t)}}function w(e,r){if(1&e&&(n.TgZ(0,"div",2),n.YNc(1,f,2,1,"ng-container",3),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.node.downlines)}}let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-network-marketing-tree"]],inputs:{node:"node"},decls:14,vars:7,consts:[[1,"network-node"],["class","children",4,"ngIf"],[1,"children"],[4,"ngFor","ngForOf"],[3,"node"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"h4"),n._uU(2),n.qZA(),n.TgZ(3,"p"),n._uU(4),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.qZA(),n.TgZ(7,"p"),n._uU(8),n.qZA(),n.TgZ(9,"p"),n._uU(10),n.qZA(),n.TgZ(11,"p"),n._uU(12),n.qZA(),n.YNc(13,w,2,1,"div",1),n.qZA()),2&t&&(n.xp6(2),n.hij("Full Name: ",o.node.fullName,""),n.xp6(2),n.hij("Phone: ",o.node.phoneNumber,""),n.xp6(2),n.hij("Email: ",o.node.email,""),n.xp6(2),n.hij("Cid: ",o.node.usernameCid,""),n.xp6(2),n.hij("Team: ",o.node.team,""),n.xp6(2),n.hij("Level: ",o.node.level,""),n.xp6(1),n.Q6J("ngIf",o.node.downlines.length>0))},dependencies:[c.sg,c.O5,e],styles:[".network-node[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;margin:10px}.children[_ngcontent-%COMP%]{margin-top:10px}.network-node[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:normal}"]}),e})();function C(e,r){1&e&&n._UZ(0,"app-network-marketing-tree",6),2&e&&n.Q6J("node",r.$implicit)}function v(e,r){if(1&e&&(n.ynx(0),n.YNc(1,C,1,1,"app-network-marketing-tree",5),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.downlins)}}const T=[{path:"",component:(()=>{class e{constructor(t,o,a){this.route=t,this.getDownlinesService=o,this.consultantsService=a}ngOnInit(){this.initSearchForm(),this.route.paramMap.subscribe(t=>{const o=t.get("usernameCid");o&&this.getDownlinesService.getConsultantsDownlinesBySponsorId(o).subscribe({next:a=>{this.downlins=a},error:a=>{console.error(a)}})})}onSearch(){const t=this.searchForm.get("searchTerm").value;t?this.consultantsService.searchConsultants(t).subscribe({next:o=>{this.downlins=o,console.log(this.downlins)},error:o=>{console.error(o)}}):this.getDownlinesService.getConsultantsDownlinesBySponsorId(this.sponsorId).subscribe({next:o=>{this.downlins=o},error:o=>{console.error(o)}})}initSearchForm(){this.searchForm=new s.cw({searchTerm:new s.NI("")})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.gz),n.Y36(g),n.Y36(h.Y))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-parent"]],decls:8,vars:2,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],["type","text","formControlName","searchTerm","placeholder","Enter Consultant Full Name",1,"form-control"],["type","submit",1,"form-button"],[4,"ngIf"],[3,"node",4,"ngFor","ngForOf"],[3,"node"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"form",1),n.NdJ("ngSubmit",function(){return o.onSearch()}),n._UZ(2,"input",2),n.TgZ(3,"button",3),n._uU(4,"Search"),n.qZA()()(),n.TgZ(5,"h2"),n._uU(6,"My Downlines"),n.qZA(),n.YNc(7,v,2,1,"ng-container",4)),2&t&&(n.xp6(1),n.Q6J("formGroup",o.searchForm),n.xp6(6),n.Q6J("ngIf",o.downlins))},dependencies:[c.sg,c.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,x],styles:[".form-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.form-control[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #1A3746;border-radius:5px;font-size:16px;width:400px}.form-button[_ngcontent-%COMP%]{margin-left:10px;padding:10px 20px;background-color:#192233;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer}.form-button[_ngcontent-%COMP%]:hover{background-color:#192233}@media screen and (max-width: 600px){.form-control[_ngcontent-%COMP%]{font-size:14px;width:140px}.form-button[_ngcontent-%COMP%]{font-size:14px}}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.Bz.forChild(T),l.Bz]}),e})();var M=i(6012),N=i(5258),y=i(430);let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[c.ez,s.UX,N.dp,k,y.Ps,M.QW]}),e})()}}]);